Captain Roberto Nascimento (Wagner Moura), top member of BOPE, narrates the film, briefly explaining how the police and the drug lords of Rio de Janeiro cooperate with each other (policemen collect periodic bribes and drug lords are left free to operate) in the 1990s.
In 1997, in medias res, officer Captain Oliveira (Marcelo Valle) and his colleagues are shown driving through Morro da Babilônia towards a baile funk. Nascimento and his other colleagues are also shown in their armored car. Meanwhile, novice police officers André Matias (André Ramiro) and Neto Gouveia (Caio Junqueira) are shown riding a motorcycle at the same favela, though not with the other officers. Once they make it to a vantage point, Neto uses the telescope of a sniper rifle to check on the police team as they talk to some drug traffickers. Neto shoots one of them and provokes a deadly gunfight between police and thugs, both sides unaware of where the bullet came from, forcing Mathias and Neto to flee the scene. Nascimento leads his colleagues from BOPE, Rio Special Police Department, heading to the shootout to interfere and save the officers.
Six months earlier, Nascimento and his wife Rosane (Maria Ribeiro) are shown during her pregnancy of their first child. Not wanting to be an absent father when his child is born, Nascimento decides to search for a worthy successor for his position as a BOPE captain, since he will be promoted to lieutenant colonel. This coincides with an operation at Morro dos Prazeres set to secure the location and clean it of drug dealers during the visit of Pope John Paul II, who will spend the night in the Archbishop's home located near the slum buildings. Because the operation requires daily trips into the favela filled with heavily armed drug lords, Nascimento strongly opposes it, but is forced to accept it as his last mission by his superiors due to the Pope's regards and requirements.
Meanwhile, Neto and Matias debut as police officers. Both hold high moral grounds and rebuff everyday payoff offers, but are soon disillusioned to realize their superiors are corrupted. While Neto begins working as a supervisor at the police auto mechanic shop, in charge of the mechanics who are fixing run-down police cars and bikes with newer parts, Matias is responsible for registering and filing every police complaint in a small archive office with fellow other officers. Both share a small apartment in Rio and are long-time friends and flatmates.
Parallel to his work as a police officer, Matias attends Law school at "Rio's best new Law University" (according to Nascimento), where his classmates are usually wealthy youngsters that tend to see the police as a repressive institution, while others are selling marijuana around the campus. He soon befriends Roberta (Fernanda de Freitas), Edu (Paulo Viela) and Maria (Fernanda Machado) (whom he later dates), who are all members of a NGO that supports poor children from a local favela. Roberta dates Rodrigues, who helps Maria run the organization and represents a Senator who sponsors the NGO. The three smoke marijuana regularly provided by Edu, who serves as a drug dealer at the university. Edu is supplied and bossed by Baiano (Fábio Lago), the local drug lord of the Comando Vermelho, who allows the NGO to operate as long as it doesn't interfere with his business or bring police attention to his area. Aware of the NGO's and Maria's connections to the illegal drug trafficking and fearing for the life of Romerito, a boy who befriends him, Matias keeps his police career as a secret from his classmates.
Neto is soon tired of working at the autoshop, but fails to be transferred to another department. During a routine patrol with Captain Fabio (Milhem Cortaz), he learns about corruption schemes adopted by police officers, such as payment of periodic bribes by small shopkeepers in exchange for police presence in front of their spots, and a common "relocation of dead bodies" to other battalion's areas (in order to artificially decrease criminal statistics of one battalion and leave less work to its officers). Upon discovering this scheme, Matias maps and charts every crime committed or investigated in every battalion, but is berated by his superiors after presenting the report. Also, due to the government's budget deficit to provide tow trucks, the police hire private tows and pay for every towed car (towing vehicles had since become a lucrative activity and corrupt officers are shown to own tow trucks).
Looking to raise enough money to fix as many police cars as possible at once, Neto comes up with a plan to steal the bribes Oliveira collects periodically from the favela drug lords and asks Matias and Fabio to help him. Fabio declines, since he will not have a share in it. The duo succeeds in stealing the money and celebrate their success, but Oliveira finds out about their involvement and punishes them by demoting both to cooks at the battalion's kitchen. However, Oliveira believes they were carrying the task under Fabio's orders, and orders him to attend a false police report at the Morro da Babilônia during a baile funk. Realizing he is going to be killed, Fabio warns Neto and Matias, who follow him and arrive at the vantage point to protect Fabio (the first scene of the film). When one of the dealers touches his gun, Neto opens fire, provoking a gunfight between police officers and dealers. Fabio takes cover behind a bar and engages in a shootout with Olivera's men while his two protectors fight some of the heavily armed dealers with only two pistols, a rifle and a sub-machine gun, but quickly run out of ammo.
Meanwhile, Nascimento is confronted by a woman trying to locate her the body of her son, who worked as a lookout for the drug lords. She believes her son was murdered after being brutally interrogated and then released by Nascimento. In guilt and thinking of his unborn child, Nascimento gathers some officers and goes into the slum to look for the boy's body. During the search, Nascimento is informed of the situation at Babilônia and ordered to intervene. After rescuing the trapped officers at Babilônia, he meets Matias and Neto for the first time and orders them to help clean up the scene, during which Matias is unwittingly photographed by the press. Soon after, the two friends, along with Fabio, apply for BOPE's training program. Matias and Neto are motivated by their desire to be good and honorable policemen, while Fabio applies due to his fear of retaliation from Oliveira. Meanwhile, Rafael, Nascimento's son, is born.
At the NGO office, Baiano confronts Maria and her friends with a newspaper showing Matias's picture and accusing them of bringing a cop into his area. He threatens the group and instructs them to get rid of Matias as soon as possible, as he is distrusting of police officers.
Soon after, BOPE's training program takes place over a few weeks in the jungle. The course proves a tough challenge, since all enrolled officers are subjected to severe physical and psychological treatment and trained under extreme pressure. Nascimento explains that this is "in order to eliminate the weak and, mainly, punish the corrupt", leaving only the honest and tough officers. Many candidates quit the program, including Fabio after he gets foot fungus, but Neto and Matias reach the final level, where they are brought into Nascimento's final operation. To celebrate his approval, Neto gets a BOPE tattoo in his arm.
At the university, Matias is rejected by Maria and her friends after his exposure as a cop. All the same, Matias confronts Edu and orders him to arrange a meeting with Romerito, to whom he has promised to deliver glasses for eyesight problems. Because of the slum's dangers, Matias tells Edu he will meet Romerito at an arcade at the base of the slum to delive his glasses. However, upon returning home, Neto informs Matias that he arranged a job interview in a prestigious law firm that will conflict with his meeting with Romerito. Hoping to see his long-time friend succeed in a law career, Neto offers to deliver the glasses to Romerito in Matias' place.
Edu reveals to Baiano that he had been threatened by Matias, and Baiano decides to take revenge on Matias for getting his friend killed, as well as interrupting his operations. When Neto meets Romerito and delivers his glasses, he is ambushed and mortally wounded by Baiano and his men, but ultimately sees Neto's arm tattoo and realizes he is a BOPE officer. Aware that killing an elite officer will "sign his death sentence" (as narrated by Nascimento), he murders Roberta and Rodrigues for revenge and goes into hiding in another favela. Severely injured, Neto dies in the hospital.
Seeking revenge for his friend's death, Matias, as well as Nascimento and fellow BOPE officers, start making daily incursions into Baiano's slum to torture dealers into telling them of his whereabouts. When one of them reveals Edu tipped Baiano about Matias's meeting with Romerito, Matias ragefully interrupts a peace walk, beats Edu up and insults Maria and the others, accusing them of being spoiled hypocritical drug users working for a drug dealer to provide for their work.
In the final act, BOPE officers discover the exact location of Baiano and raid his hideout. Baiano tries to escape, but is shot in the chest while running through the rooftops. Nascimento holds him at gunpoint, but Baiano pleads to not shoot him in the face to secure "for the wake". Nascimento grabs a shotgun, hands it to Matias and tells him to shoot Baiano in the head, as a final test to ascertain Matias's worthiness as his true successor. Matias takes the gun, points to Baiano's face and cocks the slide after a brief hesitation. The screen cuts to black as a gunshot is heard.